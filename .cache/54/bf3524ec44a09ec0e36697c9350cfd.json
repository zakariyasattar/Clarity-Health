{"id":"GbH0","dependencies":[{"name":"/Users/zakariyasattar/quirk/node_modules/mongodb/lib/client-side-encryption/crypto_callbacks.js.map","includedInParent":true,"mtime":1715897018320},{"name":"/Users/zakariyasattar/quirk/node_modules/mongodb/src/client-side-encryption/crypto_callbacks.ts","includedInParent":true,"mtime":1715897018436},{"name":"/Users/zakariyasattar/quirk/package.json","includedInParent":true,"mtime":1715896611242},{"name":"/Users/zakariyasattar/quirk/node_modules/mongodb/package.json","includedInParent":true,"mtime":1715897018279},{"name":"crypto","loc":{"line":4,"column":23,"index":400},"parent":"/Users/zakariyasattar/quirk/node_modules/mongodb/lib/client-side-encryption/crypto_callbacks.js","resolved":"/Users/zakariyasattar/quirk/node_modules/crypto-browserify/index.js"},{"name":"buffer","parent":"/Users/zakariyasattar/quirk/node_modules/mongodb/lib/client-side-encryption/crypto_callbacks.js","resolved":"/Users/zakariyasattar/quirk/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer;Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.hmacSha256Hook=exports.hmacSha512Hook=exports.aes256CtrDecryptHook=exports.aes256CtrEncryptHook=exports.aes256CbcDecryptHook=exports.aes256CbcEncryptHook=exports.signRsaSha256Hook=exports.makeHmacHook=exports.sha256Hook=exports.randomHook=exports.makeAES256Hook=void 0;var r=require(\"crypto\");function t(t,o){return function(a,c,n,s){var p;try{var h=r[t](o,a,c);h.setAutoPadding(!1),p=h.update(n);var i=h.final();i.length>0&&(p=e.concat([p,i]))}catch(u){return u}return p.copy(s),p.length}}function o(e,t){try{r.randomFillSync(e,0,t)}catch(o){return o}return t}function a(e,t){var o;try{o=r.createHash(\"sha256\").update(e).digest()}catch(a){return a}return o.copy(t),o.length}function c(e){return function(t,o,a){var c;try{c=r.createHmac(e,t).update(o).digest()}catch(n){return n}return c.copy(a),c.length}}function n(t,o,a){var c;try{var n=r.createSign(\"sha256WithRSAEncryption\"),s=e.from(\"-----BEGIN PRIVATE KEY-----\\n\".concat(t.toString(\"base64\"),\"\\n-----END PRIVATE KEY-----\\n\"));c=n.update(o).end().sign(s)}catch(p){return p}return c.copy(a),c.length}exports.makeAES256Hook=t,exports.randomHook=o,exports.sha256Hook=a,exports.makeHmacHook=c,exports.signRsaSha256Hook=n,exports.aes256CbcEncryptHook=t(\"createCipheriv\",\"aes-256-cbc\"),exports.aes256CbcDecryptHook=t(\"createDecipheriv\",\"aes-256-cbc\"),exports.aes256CtrEncryptHook=t(\"createCipheriv\",\"aes-256-ctr\"),exports.aes256CtrDecryptHook=t(\"createDecipheriv\",\"aes-256-ctr\"),exports.hmacSha512Hook=c(\"sha512\"),exports.hmacSha256Hook=c(\"sha256\");"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":0}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":4}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":6}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":14}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":24}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":31}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":38}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":53}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":61}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":74}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":75}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":82}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":86}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":94}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":109}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":117}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":132}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":140}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":161}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":169}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":190}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":198}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":219}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":227}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":248}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":256}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":274}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":282}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":295}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":303}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":314}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":322}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":333}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":341}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":52},"generated":{"line":2,"column":361}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":363}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":367}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":369}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":377}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":387}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":5,"column":16},"generated":{"line":2,"column":396}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":6,"column":2},"generated":{"line":2,"column":398}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":7,"column":2},"generated":{"line":2,"column":400}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":2,"column":403}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":9,"column":9},"generated":{"line":2,"column":410}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":9,"column":19},"generated":{"line":2,"column":419}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":9,"column":32},"generated":{"line":2,"column":421}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":9,"column":44},"generated":{"line":2,"column":423}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":9,"column":59},"generated":{"line":2,"column":425}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":10,"column":4},"generated":{"line":2,"column":428}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":10,"column":8},"generated":{"line":2,"column":432}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":2,"column":434}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":2,"column":438}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":13,"column":12},"generated":{"line":2,"column":442}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":2,"column":444}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":13,"column":28},"generated":{"line":2,"column":446}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":13,"column":36},"generated":{"line":2,"column":449}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":13,"column":42},"generated":{"line":2,"column":451}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":13,"column":47},"generated":{"line":2,"column":453}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":14,"column":6},"generated":{"line":2,"column":456}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":14,"column":13},"generated":{"line":2,"column":458}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":14,"column":28},"generated":{"line":2,"column":474}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":15,"column":6},"generated":{"line":2,"column":477}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":15,"column":15},"generated":{"line":2,"column":479}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":15,"column":22},"generated":{"line":2,"column":481}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":15,"column":29},"generated":{"line":2,"column":488}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":16,"column":6},"generated":{"line":2,"column":491}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":16,"column":12},"generated":{"line":2,"column":495}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":16,"column":20},"generated":{"line":2,"column":497}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":16,"column":27},"generated":{"line":2,"column":499}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":17,"column":10},"generated":{"line":2,"column":507}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":17,"column":16},"generated":{"line":2,"column":509}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":17,"column":25},"generated":{"line":2,"column":516}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":18,"column":8},"generated":{"line":2,"column":520}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":18,"column":17},"generated":{"line":2,"column":522}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":18,"column":24},"generated":{"line":2,"column":524}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":18,"column":31},"generated":{"line":2,"column":531}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":18,"column":32},"generated":{"line":2,"column":532}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":18,"column":40},"generated":{"line":2,"column":534}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":20,"column":6},"generated":{"line":2,"column":539}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":20,"column":13},"generated":{"line":2,"column":545}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":21,"column":6},"generated":{"line":2,"column":548}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":21,"column":13},"generated":{"line":2,"column":555}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":2,"column":557}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":2,"column":564}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":2,"column":566}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":24,"column":16},"generated":{"line":2,"column":571}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":2,"column":574}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":25,"column":18},"generated":{"line":2,"column":576}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":2,"column":584}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":29,"column":16},"generated":{"line":2,"column":593}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":29,"column":27},"generated":{"line":2,"column":595}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":29,"column":43},"generated":{"line":2,"column":597}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":2,"column":600}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":2,"column":604}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":31,"column":11},"generated":{"line":2,"column":606}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":31,"column":26},"generated":{"line":2,"column":621}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":31,"column":34},"generated":{"line":2,"column":623}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":31,"column":37},"generated":{"line":2,"column":625}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":2,"column":628}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":2,"column":634}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":2,"column":637}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":33,"column":11},"generated":{"line":2,"column":644}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":2,"column":646}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":2,"column":653}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":2,"column":655}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":2,"column":664}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":38,"column":27},"generated":{"line":2,"column":666}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":38,"column":42},"generated":{"line":2,"column":668}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":2,"column":671}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":39,"column":6},"generated":{"line":2,"column":675}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":2,"column":677}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":2,"column":681}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":2,"column":683}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":41,"column":20},"generated":{"line":2,"column":685}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":41,"column":31},"generated":{"line":2,"column":696}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":41,"column":41},"generated":{"line":2,"column":706}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":41,"column":48},"generated":{"line":2,"column":713}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":41,"column":55},"generated":{"line":2,"column":716}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":2,"column":725}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":42,"column":11},"generated":{"line":2,"column":731}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":2,"column":734}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":2,"column":741}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":2,"column":743}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":2,"column":750}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":46,"column":9},"generated":{"line":2,"column":752}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":46,"column":14},"generated":{"line":2,"column":757}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":47,"column":9},"generated":{"line":2,"column":760}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":47,"column":16},"generated":{"line":2,"column":762}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":2,"column":769}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":2,"column":778}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":51,"column":29},"generated":{"line":2,"column":780}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":52,"column":2},"generated":{"line":2,"column":783}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":2,"column":790}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":52,"column":10},"generated":{"line":2,"column":799}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":52,"column":23},"generated":{"line":2,"column":801}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":52,"column":38},"generated":{"line":2,"column":803}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":2,"column":806}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":2,"column":810}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":2,"column":812}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":2,"column":816}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":55,"column":15},"generated":{"line":2,"column":818}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":55,"column":22},"generated":{"line":2,"column":820}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":55,"column":33},"generated":{"line":2,"column":831}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":55,"column":44},"generated":{"line":2,"column":833}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":55,"column":49},"generated":{"line":2,"column":836}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":55,"column":56},"generated":{"line":2,"column":843}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":55,"column":63},"generated":{"line":2,"column":846}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":56,"column":6},"generated":{"line":2,"column":855}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":56,"column":13},"generated":{"line":2,"column":861}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":57,"column":6},"generated":{"line":2,"column":864}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":57,"column":13},"generated":{"line":2,"column":871}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":61,"column":4},"generated":{"line":2,"column":873}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":60,"column":4},"generated":{"line":2,"column":880}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":60,"column":11},"generated":{"line":2,"column":882}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":60,"column":16},"generated":{"line":2,"column":887}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":61,"column":11},"generated":{"line":2,"column":890}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":61,"column":18},"generated":{"line":2,"column":892}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":65,"column":0},"generated":{"line":2,"column":900}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":65,"column":16},"generated":{"line":2,"column":909}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":65,"column":34},"generated":{"line":2,"column":911}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":65,"column":47},"generated":{"line":2,"column":913}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":65,"column":62},"generated":{"line":2,"column":915}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":2,"column":918}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":66,"column":6},"generated":{"line":2,"column":922}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":2,"column":924}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":2,"column":928}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":68,"column":10},"generated":{"line":2,"column":932}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":68,"column":19},"generated":{"line":2,"column":934}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":68,"column":26},"generated":{"line":2,"column":936}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":68,"column":37},"generated":{"line":2,"column":947}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":69,"column":10},"generated":{"line":2,"column":974}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":69,"column":23},"generated":{"line":2,"column":976}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":69,"column":30},"generated":{"line":2,"column":978}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":69,"column":34},"generated":{"line":2,"column":983}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":69,"column":34},"generated":{"line":2,"column":1015}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":70,"column":38},"generated":{"line":2,"column":1022}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":70,"column":42},"generated":{"line":2,"column":1024}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":70,"column":51},"generated":{"line":2,"column":1033}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":70,"column":91},"generated":{"line":2,"column":1043}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":2,"column":1077}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":73,"column":13},"generated":{"line":2,"column":1079}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":73,"column":20},"generated":{"line":2,"column":1081}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":73,"column":27},"generated":{"line":2,"column":1088}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":73,"column":34},"generated":{"line":2,"column":1091}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":73,"column":40},"generated":{"line":2,"column":1097}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":73,"column":45},"generated":{"line":2,"column":1102}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":2,"column":1105}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":74,"column":11},"generated":{"line":2,"column":1111}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":75,"column":4},"generated":{"line":2,"column":1114}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":75,"column":11},"generated":{"line":2,"column":1121}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":79,"column":2},"generated":{"line":2,"column":1123}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":2,"column":1130}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":78,"column":9},"generated":{"line":2,"column":1132}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":78,"column":14},"generated":{"line":2,"column":1137}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":79,"column":9},"generated":{"line":2,"column":1140}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":79,"column":16},"generated":{"line":2,"column":1142}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":1149}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":1157}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":1172}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":2,"column":1174}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":2,"column":1182}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":2,"column":1193}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":2,"column":1195}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":2,"column":1203}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":2,"column":1214}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":2,"column":1216}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":2,"column":1224}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":2,"column":1237}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":65,"column":0},"generated":{"line":2,"column":1239}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":65,"column":0},"generated":{"line":2,"column":1247}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":65,"column":0},"generated":{"line":2,"column":1265}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":82,"column":13},"generated":{"line":2,"column":1267}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":82,"column":13},"generated":{"line":2,"column":1275}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":82,"column":36},"generated":{"line":2,"column":1296}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":82,"column":51},"generated":{"line":2,"column":1298}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":82,"column":69},"generated":{"line":2,"column":1315}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":83,"column":13},"generated":{"line":2,"column":1330}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":83,"column":13},"generated":{"line":2,"column":1338}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":83,"column":36},"generated":{"line":2,"column":1359}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":83,"column":51},"generated":{"line":2,"column":1361}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":83,"column":71},"generated":{"line":2,"column":1380}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":84,"column":13},"generated":{"line":2,"column":1395}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":84,"column":13},"generated":{"line":2,"column":1403}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":84,"column":36},"generated":{"line":2,"column":1424}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":84,"column":51},"generated":{"line":2,"column":1426}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":84,"column":69},"generated":{"line":2,"column":1443}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":85,"column":13},"generated":{"line":2,"column":1458}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":85,"column":13},"generated":{"line":2,"column":1466}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":85,"column":36},"generated":{"line":2,"column":1487}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":85,"column":51},"generated":{"line":2,"column":1489}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":85,"column":71},"generated":{"line":2,"column":1508}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":86,"column":13},"generated":{"line":2,"column":1523}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":86,"column":13},"generated":{"line":2,"column":1531}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":86,"column":30},"generated":{"line":2,"column":1546}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":86,"column":43},"generated":{"line":2,"column":1548}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":2,"column":1558}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":2,"column":1566}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":30},"generated":{"line":2,"column":1581}},{"source":"../../src/client-side-encryption/crypto_callbacks.ts","name":null,"original":{"line":87,"column":43},"generated":{"line":2,"column":1583}}],"sources":{"../../src/client-side-encryption/crypto_callbacks.ts":"import * as crypto from 'crypto';\n\ntype AES256Callback = (key: Buffer, iv: Buffer, input: Buffer, output: Buffer) => number | Error;\n\nexport function makeAES256Hook(\n  method: 'createCipheriv' | 'createDecipheriv',\n  mode: 'aes-256-cbc' | 'aes-256-ctr'\n): AES256Callback {\n  return function (key: Buffer, iv: Buffer, input: Buffer, output: Buffer): number | Error {\n    let result;\n\n    try {\n      const cipher = crypto[method](mode, key, iv);\n      cipher.setAutoPadding(false);\n      result = cipher.update(input);\n      const final = cipher.final();\n      if (final.length > 0) {\n        result = Buffer.concat([result, final]);\n      }\n    } catch (e) {\n      return e;\n    }\n\n    result.copy(output);\n    return result.length;\n  };\n}\n\nexport function randomHook(buffer: Buffer, count: number): number | Error {\n  try {\n    crypto.randomFillSync(buffer, 0, count);\n  } catch (e) {\n    return e;\n  }\n  return count;\n}\n\nexport function sha256Hook(input: Buffer, output: Buffer): number | Error {\n  let result;\n  try {\n    result = crypto.createHash('sha256').update(input).digest();\n  } catch (e) {\n    return e;\n  }\n\n  result.copy(output);\n  return result.length;\n}\n\ntype HMACHook = (key: Buffer, input: Buffer, output: Buffer) => number | Error;\nexport function makeHmacHook(algorithm: 'sha512' | 'sha256'): HMACHook {\n  return (key: Buffer, input: Buffer, output: Buffer): number | Error => {\n    let result;\n    try {\n      result = crypto.createHmac(algorithm, key).update(input).digest();\n    } catch (e) {\n      return e;\n    }\n\n    result.copy(output);\n    return result.length;\n  };\n}\n\nexport function signRsaSha256Hook(key: Buffer, input: Buffer, output: Buffer): number | Error {\n  let result;\n  try {\n    const signer = crypto.createSign('sha256WithRSAEncryption');\n    const privateKey = Buffer.from(\n      `-----BEGIN PRIVATE KEY-----\\n${key.toString('base64')}\\n-----END PRIVATE KEY-----\\n`\n    );\n\n    result = signer.update(input).end().sign(privateKey);\n  } catch (e) {\n    return e;\n  }\n\n  result.copy(output);\n  return result.length;\n}\n\nexport const aes256CbcEncryptHook = makeAES256Hook('createCipheriv', 'aes-256-cbc');\nexport const aes256CbcDecryptHook = makeAES256Hook('createDecipheriv', 'aes-256-cbc');\nexport const aes256CtrEncryptHook = makeAES256Hook('createCipheriv', 'aes-256-ctr');\nexport const aes256CtrDecryptHook = makeAES256Hook('createDecipheriv', 'aes-256-ctr');\nexport const hmacSha512Hook = makeHmacHook('sha512');\nexport const hmacSha256Hook = makeHmacHook('sha256');\n"},"lineCount":null}},"error":null,"hash":"392f3b07df418d83ca1cae1851f3ee21","cacheData":{"env":{}}}